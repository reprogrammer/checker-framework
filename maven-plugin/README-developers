Build the plugin
================

  mvn clean package

Install the plugin locally
==========================

  mvn install

Install the Checker Framework and the Maven plugin locally
==========================================================

This is useful if you built the Checker Framework yourself (e.g. because you
added your own checker), and would like to apply it to a Maven project.

Install the plugin pom locally:

  mvn install

Install the checker framework poms locally:

  cd checker-framework/checkers/binary/poms
  ./localInstall.sh

Add the following lines to the maven project's pom:

  <plugins>
      ... existing <plugin> items go here ...

      <plugin>
          <groupId>types.checkers</groupId>
          <artifactId>checkers-maven-plugin</artifactId>
          <version>1.6.2</version>
          <executions>
              <execution>
                  <phase>process-classes</phase>
                  <goals>
                      <goal>check</goal>
                  </goals>
              </execution> 
          </executions>
          <configuration>
              <processors>
                  <processor>checkers.formatter.FormatterChecker</processor> 
              </processors> 
          </configuration>
      </plugin> 
  </plugins>


To install the plugin to a repository
=====================================

  //Install the plugin locally
  mvn install    
  //deploy it to a location
  mvn deploy:deploy-file \
  -DartifactId=checkersplugin \         
  -Dfile=<your path>/jsr308/checker-framework/maven-plugin/target/checkers-maven-plugin-<latest-version>.jar \        
  -Dversion=<latest-version> \
  -Durl=file://<your path>/maven/m2-repo \
  -DgroupId=types.checkers \
  -Dpackaging=jar \
  -DpomFile=<your path>/jsr308/checker-framework/maven-plugin/pom.xml \
  -DgeneratePom=false \

Note:  Before releasing the plugin you should update the default plugin version in the plugin and manual.

To update the default plugin version:
Open the "CheckersMojo.java" file and find the member variable "checkersVersion".
Change the default value from the current version to the next version for deployment.
There are now also pom files for all the artifacts of the checker-framework in $CHECKERS/binary/poms.
These must have the versions updated and deployed in the release.

To update the manual:
TODO: Make this automatic.
Open manual/external-tools.tex change the checker-framework version to the upcoming checker-framework version and change the maven plugin version to the new plugin version. 
